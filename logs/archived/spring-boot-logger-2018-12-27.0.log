2018-12-27 23:21:22,890 INFO org.springframework.boot.StartupInfoLogger [main] Starting Application on WIN-C3L8TOODV5O with PID 17720 (C:\Users\User\IdeaProjects\computershop\target\classes started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:21:22,973 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:21:25,671 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2018-12-27 23:21:25,687 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2018-12-27 23:21:25,697 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:21:25,698 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:21:25,709 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:21:26,066 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:21:26,072 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:21:26,073 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 2895 ms
2018-12-27 23:21:26,110 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:21:26,111 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:21:26,112 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:21:28,224 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2282400e, org.springframework.security.web.context.SecurityContextPersistenceFilter@456f7d9e, org.springframework.security.web.header.HeaderWriterFilter@c8f97a7, org.springframework.security.web.authentication.logout.LogoutFilter@1b7f06c7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@445821a6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@bb25753, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8f40022, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a08b084, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@543d5863, org.springframework.security.web.session.SessionManagementFilter@3249e278, org.springframework.security.web.access.ExceptionTranslationFilter@50b93353, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@357bc488]
2018-12-27 23:21:28,651 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2018-12-27 23:21:28,669 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:21:28,701 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2018-12-27 23:21:28,709 INFO org.springframework.boot.StartupInfoLogger [main] Started Application in 7.015 seconds (JVM running for 9.03)
2018-12-27 23:21:37,768 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-27 23:21:37,769 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2018-12-27 23:21:37,783 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 12 ms
2018-12-27 23:27:18,302 INFO org.springframework.boot.StartupInfoLogger [main] Starting MainControllerTest on WIN-C3L8TOODV5O with PID 10572 (started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:27:18,305 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:27:24,200 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 0 (http)
2018-12-27 23:27:24,223 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:27:24,237 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:27:24,238 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:27:24,256 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:27:24,973 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:27:25,014 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:27:25,015 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 5171 ms
2018-12-27 23:27:25,130 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:27:25,131 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:27:25,132 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:27:29,678 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18c7f6b5, org.springframework.security.web.context.SecurityContextPersistenceFilter@3bd08435, org.springframework.security.web.header.HeaderWriterFilter@5d601832, org.springframework.security.web.authentication.logout.LogoutFilter@59262a90, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7404ddca, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1c68d0db, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a96d639, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e120628, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@629b780f, org.springframework.security.web.session.SessionManagementFilter@640c216b, org.springframework.security.web.access.ExceptionTranslationFilter@66b0e207, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1c6e3ff9]
2018-12-27 23:27:31,284 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:27:31,301 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:27:31,347 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 50418 (http) with context path ''
2018-12-27 23:27:31,355 INFO org.springframework.boot.StartupInfoLogger [main] Started MainControllerTest in 14.47 seconds (JVM running for 16.654)
2018-12-27 23:27:31,834 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@c8c12ac testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@3c19aaa5, testMethod = createUser_duplicateLogin@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6adbc9d testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@16f7c8c1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@27d415d9, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@44a3ec6b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@43d7741f], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@58a3d521]; rollback [true]
2018-12-27 23:27:31,953 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2018-12-27 23:27:31,955 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2018-12-27 23:27:31,955 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 0 ms
2018-12-27 23:27:35,477 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@c8c12ac testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@3c19aaa5, testMethod = createUser_duplicateLogin@MainControllerTest, testException = java.net.ConnectException: Connection refused: connect, mergedContextConfiguration = [WebMergedContextConfiguration@6adbc9d testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@16f7c8c1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@27d415d9, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@44a3ec6b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@43d7741f], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]
2018-12-27 23:28:35,183 INFO org.springframework.boot.StartupInfoLogger [main] Starting MainControllerTest on WIN-C3L8TOODV5O with PID 14244 (started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:28:35,187 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:28:40,034 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 0 (http)
2018-12-27 23:28:40,071 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:28:40,094 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:28:40,095 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:28:40,122 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:28:40,816 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:28:40,837 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:28:40,838 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 4644 ms
2018-12-27 23:28:40,970 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:28:40,972 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:28:40,973 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:28:45,191 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e2c6702, org.springframework.security.web.context.SecurityContextPersistenceFilter@14d1737a, org.springframework.security.web.header.HeaderWriterFilter@3bd08435, org.springframework.security.web.authentication.logout.LogoutFilter@49653791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@9be7319, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@629b780f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e74fd84, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@dc1fadd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fb7ab9c, org.springframework.security.web.session.SessionManagementFilter@6a96d639, org.springframework.security.web.access.ExceptionTranslationFilter@640c216b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f03ee8f]
2018-12-27 23:28:46,701 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:28:46,719 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:28:46,768 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 50517 (http) with context path ''
2018-12-27 23:28:46,779 INFO org.springframework.boot.StartupInfoLogger [main] Started MainControllerTest in 13.139 seconds (JVM running for 16.572)
2018-12-27 23:28:47,213 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@70d4f672]; rollback [true]
2018-12-27 23:28:47,350 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2018-12-27 23:28:47,352 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2018-12-27 23:28:47,353 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 1 ms
2018-12-27 23:28:49,132 INFO org.apache.juli.logging.DirectJDKLog [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-27 23:28:49,134 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'
2018-12-27 23:28:49,171 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Completed initialization in 34 ms
2018-12-27 23:28:49,284 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-auto-1-exec-1] Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'text/plain;charset=ISO-8859-1' not supported]
2018-12-27 23:28:49,452 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = java.lang.AssertionError: 1 expectation failed.
Expected status code <406> doesn't match actual status code <415>.
, mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]
2018-12-27 23:31:53,247 INFO org.springframework.boot.StartupInfoLogger [main] Starting MainControllerTest on WIN-C3L8TOODV5O with PID 12724 (started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:31:53,251 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:31:58,790 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 0 (http)
2018-12-27 23:31:58,823 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:31:58,846 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:31:58,847 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:31:58,871 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:31:59,866 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:31:59,914 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:31:59,915 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 4956 ms
2018-12-27 23:32:00,063 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:32:00,065 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:32:00,065 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:32:05,245 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e2c6702, org.springframework.security.web.context.SecurityContextPersistenceFilter@14d1737a, org.springframework.security.web.header.HeaderWriterFilter@3bd08435, org.springframework.security.web.authentication.logout.LogoutFilter@49653791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@9be7319, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@629b780f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e74fd84, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@dc1fadd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fb7ab9c, org.springframework.security.web.session.SessionManagementFilter@6a96d639, org.springframework.security.web.access.ExceptionTranslationFilter@640c216b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f03ee8f]
2018-12-27 23:32:07,217 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:32:07,235 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:32:07,396 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 50925 (http) with context path ''
2018-12-27 23:32:07,402 INFO org.springframework.boot.StartupInfoLogger [main] Started MainControllerTest in 15.529 seconds (JVM running for 17.526)
2018-12-27 23:32:07,940 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@70d4f672]; rollback [true]
2018-12-27 23:32:08,082 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2018-12-27 23:32:08,084 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2018-12-27 23:32:08,085 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 1 ms
2018-12-27 23:32:09,653 INFO org.apache.juli.logging.DirectJDKLog [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-27 23:32:09,657 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'
2018-12-27 23:32:09,701 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Completed initialization in 42 ms
2018-12-27 23:32:09,795 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-auto-1-exec-1] Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'text/plain;charset=ISO-8859-1' not supported]
2018-12-27 23:32:09,970 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = java.lang.AssertionError: 1 expectation failed.
Expected status code <406> doesn't match actual status code <415>.
, mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]
2018-12-27 23:33:34,510 INFO org.springframework.boot.StartupInfoLogger [main] Starting MainControllerTest on WIN-C3L8TOODV5O with PID 14252 (started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:33:34,514 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:33:40,127 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 0 (http)
2018-12-27 23:33:40,150 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:33:40,164 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:33:40,165 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:33:40,185 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:33:40,845 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:33:40,870 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:33:40,871 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 5190 ms
2018-12-27 23:33:40,991 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:33:40,993 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:33:40,993 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:33:45,307 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2eebce87, org.springframework.security.web.context.SecurityContextPersistenceFilter@4e4894d, org.springframework.security.web.header.HeaderWriterFilter@14d1737a, org.springframework.security.web.authentication.logout.LogoutFilter@6009cd34, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3af36922, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5fb7ab9c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@23e2c1ca, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78479f2b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ee37ca7, org.springframework.security.web.session.SessionManagementFilter@3e74fd84, org.springframework.security.web.access.ExceptionTranslationFilter@6a96d639, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7404ddca]
2018-12-27 23:33:47,263 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:33:47,280 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:33:47,333 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 51026 (http) with context path ''
2018-12-27 23:33:47,340 INFO org.springframework.boot.StartupInfoLogger [main] Started MainControllerTest in 14.106 seconds (JVM running for 16.07)
2018-12-27 23:33:47,876 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createdUser_ok@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@6fbf5db2]; rollback [true]
2018-12-27 23:33:47,990 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2018-12-27 23:33:47,992 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2018-12-27 23:33:47,993 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 0 ms
2018-12-27 23:33:49,875 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createdUser_ok@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]
2018-12-27 23:35:59,656 INFO org.springframework.boot.StartupInfoLogger [main] Starting MainControllerTest on WIN-C3L8TOODV5O with PID 14728 (started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:35:59,659 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:36:04,844 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 0 (http)
2018-12-27 23:36:04,867 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:36:04,892 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:36:04,893 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:36:04,921 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:36:05,515 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:36:05,530 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:36:05,533 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 4489 ms
2018-12-27 23:36:05,658 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:36:05,659 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:36:05,660 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:36:09,848 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51eb0e84, org.springframework.security.web.context.SecurityContextPersistenceFilter@147efd9, org.springframework.security.web.header.HeaderWriterFilter@28e94c2, org.springframework.security.web.authentication.logout.LogoutFilter@7b377a53, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@18c7f6b5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@474e34e4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e4894d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b332439, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ce267cc, org.springframework.security.web.session.SessionManagementFilter@14d1737a, org.springframework.security.web.access.ExceptionTranslationFilter@3bd08435, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4ebd6fd6]
2018-12-27 23:36:11,458 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:36:11,480 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:36:11,529 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 51187 (http) with context path ''
2018-12-27 23:36:11,538 INFO org.springframework.boot.StartupInfoLogger [main] Started MainControllerTest in 13.289 seconds (JVM running for 15.595)
2018-12-27 23:36:11,971 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2e952845]; rollback [true]
2018-12-27 23:36:12,060 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2018-12-27 23:36:12,061 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2018-12-27 23:36:12,063 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 0 ms
2018-12-27 23:36:13,638 INFO org.apache.juli.logging.DirectJDKLog [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-27 23:36:13,639 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'
2018-12-27 23:36:13,669 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Completed initialization in 28 ms
2018-12-27 23:36:13,759 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-auto-1-exec-1] Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'text/plain;charset=ISO-8859-1' not supported]
2018-12-27 23:36:13,934 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = java.lang.AssertionError: 1 expectation failed.
Expected status code <406> doesn't match actual status code <415>.
, mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]
2018-12-27 23:37:14,061 INFO org.springframework.boot.StartupInfoLogger [main] Starting MainControllerTest on WIN-C3L8TOODV5O with PID 23268 (started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:37:14,064 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:37:19,466 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 0 (http)
2018-12-27 23:37:19,498 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:37:19,529 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:37:19,530 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:37:19,558 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:37:20,183 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:37:20,195 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:37:20,198 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 4290 ms
2018-12-27 23:37:20,320 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:37:20,321 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:37:20,321 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:37:24,570 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42730828, org.springframework.security.web.context.SecurityContextPersistenceFilter@c0c8f96, org.springframework.security.web.header.HeaderWriterFilter@7308c820, org.springframework.security.web.authentication.logout.LogoutFilter@5b332439, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e5a8718, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4e50ae56, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e52ed5d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@147efd9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18c7f6b5, org.springframework.security.web.session.SessionManagementFilter@3ca17943, org.springframework.security.web.access.ExceptionTranslationFilter@4c5406b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a7a1a0d]
2018-12-27 23:37:26,253 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:37:26,274 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:37:26,339 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 51264 (http) with context path ''
2018-12-27 23:37:26,350 INFO org.springframework.boot.StartupInfoLogger [main] Started MainControllerTest in 13.786 seconds (JVM running for 16.023)
2018-12-27 23:37:26,914 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@58a3d521]; rollback [true]
2018-12-27 23:37:27,103 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2018-12-27 23:37:27,110 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2018-12-27 23:37:27,110 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 0 ms
2018-12-27 23:37:28,681 INFO org.apache.juli.logging.DirectJDKLog [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-27 23:37:28,682 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'
2018-12-27 23:37:28,718 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Completed initialization in 33 ms
2018-12-27 23:37:28,889 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-auto-1-exec-1] Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'text/plain;charset=ISO-8859-1' not supported]
2018-12-27 23:37:29,085 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = java.lang.AssertionError: 1 expectation failed.
Expected status code <406> doesn't match actual status code <415>.
, mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]
2018-12-27 23:43:34,181 INFO org.springframework.boot.StartupInfoLogger [main] Starting MainControllerTest on WIN-C3L8TOODV5O with PID 18360 (started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:43:34,195 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:43:40,312 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 0 (http)
2018-12-27 23:43:40,332 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:43:40,348 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:43:40,348 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:43:40,372 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:43:41,050 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:43:41,068 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:43:41,069 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 6066 ms
2018-12-27 23:43:41,194 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:43:41,196 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:43:41,197 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:43:45,509 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9be7319, org.springframework.security.web.context.SecurityContextPersistenceFilter@640c216b, org.springframework.security.web.header.HeaderWriterFilter@66b0e207, org.springframework.security.web.authentication.logout.LogoutFilter@3ef3f661, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@33f4c769, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@615e83ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c0c8f96, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@482a58c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@91a2543, org.springframework.security.web.session.SessionManagementFilter@7308c820, org.springframework.security.web.access.ExceptionTranslationFilter@641ed324, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@58164e9a]
2018-12-27 23:43:47,104 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:43:47,125 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:43:47,176 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 51725 (http) with context path ''
2018-12-27 23:43:47,182 INFO org.springframework.boot.StartupInfoLogger [main] Started MainControllerTest in 14.553 seconds (JVM running for 16.46)
2018-12-27 23:43:47,591 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@27898e13]; rollback [true]
2018-12-27 23:43:47,698 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2018-12-27 23:43:47,700 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2018-12-27 23:43:47,700 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 0 ms
2018-12-27 23:43:49,431 INFO org.apache.juli.logging.DirectJDKLog [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-27 23:43:49,433 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'
2018-12-27 23:43:49,480 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Completed initialization in 45 ms
2018-12-27 23:43:50,358 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-auto-1-exec-1] Resolved [org.timoshuk.computershop.exception.UserExistsException: User with this login already exists!]
2018-12-27 23:43:50,495 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]
2018-12-27 23:44:11,637 INFO org.springframework.boot.StartupInfoLogger [main] Starting MainControllerTest on WIN-C3L8TOODV5O with PID 16352 (started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:44:11,644 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:44:16,575 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 0 (http)
2018-12-27 23:44:16,605 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:44:16,628 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:44:16,629 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:44:16,651 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:44:17,326 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:44:17,341 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:44:17,341 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 4095 ms
2018-12-27 23:44:17,457 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:44:17,458 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:44:17,459 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:44:21,685 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e2c6702, org.springframework.security.web.context.SecurityContextPersistenceFilter@14d1737a, org.springframework.security.web.header.HeaderWriterFilter@3bd08435, org.springframework.security.web.authentication.logout.LogoutFilter@49653791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@9be7319, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@629b780f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e74fd84, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@dc1fadd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fb7ab9c, org.springframework.security.web.session.SessionManagementFilter@6a96d639, org.springframework.security.web.access.ExceptionTranslationFilter@640c216b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f03ee8f]
2018-12-27 23:44:23,020 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:44:23,035 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:44:23,072 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 51771 (http) with context path ''
2018-12-27 23:44:23,079 INFO org.springframework.boot.StartupInfoLogger [main] Started MainControllerTest in 12.724 seconds (JVM running for 14.639)
2018-12-27 23:44:23,551 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@70d4f672]; rollback [true]
2018-12-27 23:44:23,648 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2018-12-27 23:44:23,650 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2018-12-27 23:44:23,650 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 0 ms
2018-12-27 23:44:25,183 INFO org.apache.juli.logging.DirectJDKLog [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-27 23:44:25,184 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'
2018-12-27 23:44:25,213 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Completed initialization in 28 ms
2018-12-27 23:44:26,000 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-auto-1-exec-1] Resolved [org.timoshuk.computershop.exception.UserExistsException: User with this login already exists!]
2018-12-27 23:44:26,147 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = java.lang.AssertionError: 1 expectation failed.
Expected status code <415> doesn't match actual status code <406>.
, mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]
2018-12-27 23:48:34,533 INFO org.springframework.boot.StartupInfoLogger [main] Starting MainControllerTest on WIN-C3L8TOODV5O with PID 12616 (started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:48:34,539 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:48:39,436 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 0 (http)
2018-12-27 23:48:39,462 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:48:39,479 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:48:39,480 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:48:39,500 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:48:40,166 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:48:40,202 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:48:40,203 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 3832 ms
2018-12-27 23:48:40,316 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:48:40,318 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:48:40,319 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:48:44,636 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42730828, org.springframework.security.web.context.SecurityContextPersistenceFilter@c0c8f96, org.springframework.security.web.header.HeaderWriterFilter@7308c820, org.springframework.security.web.authentication.logout.LogoutFilter@5b332439, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e5a8718, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4e50ae56, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e52ed5d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@147efd9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18c7f6b5, org.springframework.security.web.session.SessionManagementFilter@3ca17943, org.springframework.security.web.access.ExceptionTranslationFilter@4c5406b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a7a1a0d]
2018-12-27 23:48:46,189 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:48:46,205 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:48:46,255 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 52004 (http) with context path ''
2018-12-27 23:48:46,264 INFO org.springframework.boot.StartupInfoLogger [main] Started MainControllerTest in 12.954 seconds (JVM running for 14.854)
2018-12-27 23:48:46,673 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@58a3d521]; rollback [true]
2018-12-27 23:48:46,786 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2018-12-27 23:48:46,788 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2018-12-27 23:48:46,789 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 1 ms
2018-12-27 23:48:48,652 INFO org.apache.juli.logging.DirectJDKLog [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-27 23:48:48,653 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'
2018-12-27 23:48:48,689 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Completed initialization in 34 ms
2018-12-27 23:48:49,584 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-auto-1-exec-1] Resolved [org.timoshuk.computershop.exception.UserExistsException: User with this login already exists!]
2018-12-27 23:48:49,740 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = java.lang.AssertionError: 1 expectation failed.
Expected status line "User with this login already exists!" doesn't match actual status line "HTTP/1.1 406 ".
, mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]
2018-12-27 23:51:06,742 INFO org.springframework.boot.StartupInfoLogger [main] Starting MainControllerTest on WIN-C3L8TOODV5O with PID 19484 (started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:51:06,746 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:51:11,569 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 0 (http)
2018-12-27 23:51:11,595 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:51:11,616 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:51:11,617 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:51:11,649 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:51:12,339 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:51:12,360 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:51:12,361 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 4729 ms
2018-12-27 23:51:12,481 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:51:12,482 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:51:12,483 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:51:16,708 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6734ff92, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e74fd84, org.springframework.security.web.header.HeaderWriterFilter@6a96d639, org.springframework.security.web.authentication.logout.LogoutFilter@c212536, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@42730828, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@609b041c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e120628, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@baa9ce4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51eb0e84, org.springframework.security.web.session.SessionManagementFilter@3d40498a, org.springframework.security.web.access.ExceptionTranslationFilter@c0c8f96, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@33f4c769]
2018-12-27 23:51:18,294 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:51:18,316 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:51:18,367 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 52232 (http) with context path ''
2018-12-27 23:51:18,374 INFO org.springframework.boot.StartupInfoLogger [main] Started MainControllerTest in 12.893 seconds (JVM running for 14.859)
2018-12-27 23:51:18,764 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@50cdfafa]; rollback [true]
2018-12-27 23:51:18,865 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2018-12-27 23:51:18,867 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2018-12-27 23:51:18,867 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 0 ms
2018-12-27 23:51:20,549 INFO org.apache.juli.logging.DirectJDKLog [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-27 23:51:20,550 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'
2018-12-27 23:51:20,589 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Completed initialization in 37 ms
2018-12-27 23:51:21,505 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-auto-1-exec-1] Resolved [org.timoshuk.computershop.exception.UserExistsException: User with this login already exists!]
2018-12-27 23:51:21,755 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = java.lang.IllegalStateException: Expected response body to be verified as JSON, HTML or XML but content-type 'text/plain' is not supported out of the box.
Try registering a custom parser using:
   RestAssured.registerParser("text/plain", <parser type>);
Content was:
User with this login already exists!
, mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]
2018-12-27 23:52:56,357 INFO org.springframework.boot.StartupInfoLogger [main] Starting MainControllerTest on WIN-C3L8TOODV5O with PID 22072 (started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:52:56,361 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:53:01,025 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 0 (http)
2018-12-27 23:53:01,051 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:53:01,080 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:53:01,082 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:53:01,112 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:53:02,051 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:53:02,069 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:53:02,070 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 4198 ms
2018-12-27 23:53:02,206 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:53:02,207 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:53:02,208 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:53:06,690 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6734ff92, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e74fd84, org.springframework.security.web.header.HeaderWriterFilter@6a96d639, org.springframework.security.web.authentication.logout.LogoutFilter@c212536, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@42730828, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@609b041c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e120628, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@baa9ce4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51eb0e84, org.springframework.security.web.session.SessionManagementFilter@3d40498a, org.springframework.security.web.access.ExceptionTranslationFilter@c0c8f96, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@33f4c769]
2018-12-27 23:53:07,996 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:53:08,014 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:53:08,065 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 52375 (http) with context path ''
2018-12-27 23:53:08,076 INFO org.springframework.boot.StartupInfoLogger [main] Started MainControllerTest in 13.059 seconds (JVM running for 15.189)
2018-12-27 23:53:08,460 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@50cdfafa]; rollback [true]
2018-12-27 23:53:08,560 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2018-12-27 23:53:08,562 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2018-12-27 23:53:08,563 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 1 ms
2018-12-27 23:53:10,255 INFO org.apache.juli.logging.DirectJDKLog [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-27 23:53:10,257 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'
2018-12-27 23:53:10,293 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Completed initialization in 35 ms
2018-12-27 23:53:11,217 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-auto-1-exec-1] Resolved [org.timoshuk.computershop.exception.UserExistsException: User with this login already exists!]
2018-12-27 23:53:11,513 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = java.lang.IllegalStateException: Expected response body to be verified as JSON, HTML or XML but content-type 'text/plain' is not supported out of the box.
Try registering a custom parser using:
   RestAssured.registerParser("text/plain", <parser type>);
Content was:
User with this login already exists!
, mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]
2018-12-27 23:53:41,993 INFO org.springframework.boot.StartupInfoLogger [main] Starting MainControllerTest on WIN-C3L8TOODV5O with PID 18836 (started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:53:41,996 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:53:46,442 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 0 (http)
2018-12-27 23:53:46,463 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:53:46,480 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:53:46,481 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:53:46,505 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:53:47,261 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:53:47,288 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:53:47,288 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 4220 ms
2018-12-27 23:53:47,420 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:53:47,421 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:53:47,421 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:53:51,673 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e2c6702, org.springframework.security.web.context.SecurityContextPersistenceFilter@14d1737a, org.springframework.security.web.header.HeaderWriterFilter@3bd08435, org.springframework.security.web.authentication.logout.LogoutFilter@49653791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@9be7319, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@629b780f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e74fd84, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@dc1fadd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fb7ab9c, org.springframework.security.web.session.SessionManagementFilter@6a96d639, org.springframework.security.web.access.ExceptionTranslationFilter@640c216b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f03ee8f]
2018-12-27 23:53:53,536 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:53:53,556 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:53:53,650 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 52434 (http) with context path ''
2018-12-27 23:53:53,668 INFO org.springframework.boot.StartupInfoLogger [main] Started MainControllerTest in 13.062 seconds (JVM running for 14.965)
2018-12-27 23:53:54,238 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@70d4f672]; rollback [true]
2018-12-27 23:53:54,400 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2018-12-27 23:53:54,403 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2018-12-27 23:53:54,404 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 1 ms
2018-12-27 23:53:56,262 INFO org.apache.juli.logging.DirectJDKLog [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-27 23:53:56,263 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'
2018-12-27 23:53:56,300 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Completed initialization in 36 ms
2018-12-27 23:53:57,672 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-auto-1-exec-1] Resolved [org.timoshuk.computershop.exception.UserExistsException: User with this login already exists!]
2018-12-27 23:53:57,958 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = java.lang.IllegalStateException: Expected response body to be verified as JSON, HTML or XML but content-type 'text/plain' is not supported out of the box.
Try registering a custom parser using:
   RestAssured.registerParser("text/plain", <parser type>);
Content was:
User with this login already exists!
, mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]
2018-12-27 23:54:52,871 INFO org.springframework.boot.StartupInfoLogger [main] Starting MainControllerTest on WIN-C3L8TOODV5O with PID 14004 (started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:54:52,886 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:54:57,478 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 0 (http)
2018-12-27 23:54:57,504 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:54:57,524 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:54:57,525 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:54:57,547 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:54:58,202 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:54:58,222 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:54:58,223 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 4138 ms
2018-12-27 23:54:58,339 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:54:58,341 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:54:58,341 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:55:02,367 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e2c6702, org.springframework.security.web.context.SecurityContextPersistenceFilter@14d1737a, org.springframework.security.web.header.HeaderWriterFilter@3bd08435, org.springframework.security.web.authentication.logout.LogoutFilter@49653791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@9be7319, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@629b780f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e74fd84, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@dc1fadd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fb7ab9c, org.springframework.security.web.session.SessionManagementFilter@6a96d639, org.springframework.security.web.access.ExceptionTranslationFilter@640c216b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f03ee8f]
2018-12-27 23:55:03,844 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:55:03,893 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:55:03,948 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 52516 (http) with context path ''
2018-12-27 23:55:03,955 INFO org.springframework.boot.StartupInfoLogger [main] Started MainControllerTest in 12.416 seconds (JVM running for 14.336)
2018-12-27 23:55:04,355 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@70d4f672]; rollback [true]
2018-12-27 23:55:04,468 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2018-12-27 23:55:04,471 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2018-12-27 23:55:04,472 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 0 ms
2018-12-27 23:55:06,151 INFO org.apache.juli.logging.DirectJDKLog [http-nio-auto-1-exec-10] Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-27 23:55:06,152 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-10] Initializing Servlet 'dispatcherServlet'
2018-12-27 23:55:06,192 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-10] Completed initialization in 38 ms
2018-12-27 23:55:07,188 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-auto-1-exec-10] Resolved [org.timoshuk.computershop.exception.UserExistsException: User with this login already exists!]
2018-12-27 23:55:07,431 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = java.lang.IllegalStateException: Expected response body to be verified as JSON, HTML or XML but content-type 'text/plain' is not supported out of the box.
Try registering a custom parser using:
   RestAssured.registerParser("text/plain", <parser type>);
Content was:
User with this login already exists!
, mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]
2018-12-27 23:56:57,085 INFO org.springframework.boot.StartupInfoLogger [main] Starting MainControllerTest on WIN-C3L8TOODV5O with PID 20660 (started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:56:57,089 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:57:01,761 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 0 (http)
2018-12-27 23:57:01,791 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:57:01,806 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:57:01,806 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:57:01,826 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:57:02,502 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:57:02,522 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:57:02,522 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 3870 ms
2018-12-27 23:57:02,625 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:57:02,626 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:57:02,626 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:57:06,856 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e2c6702, org.springframework.security.web.context.SecurityContextPersistenceFilter@14d1737a, org.springframework.security.web.header.HeaderWriterFilter@3bd08435, org.springframework.security.web.authentication.logout.LogoutFilter@49653791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@9be7319, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@629b780f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e74fd84, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@dc1fadd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fb7ab9c, org.springframework.security.web.session.SessionManagementFilter@6a96d639, org.springframework.security.web.access.ExceptionTranslationFilter@640c216b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f03ee8f]
2018-12-27 23:57:08,480 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:57:08,499 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:57:08,558 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 52667 (http) with context path ''
2018-12-27 23:57:08,569 INFO org.springframework.boot.StartupInfoLogger [main] Started MainControllerTest in 12.849 seconds (JVM running for 14.784)
2018-12-27 23:57:09,157 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@70d4f672]; rollback [true]
2018-12-27 23:57:09,268 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2018-12-27 23:57:09,270 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2018-12-27 23:57:09,270 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 0 ms
2018-12-27 23:57:11,509 INFO org.apache.juli.logging.DirectJDKLog [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-27 23:57:11,510 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'
2018-12-27 23:57:11,571 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Completed initialization in 60 ms
2018-12-27 23:57:12,773 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-auto-1-exec-1] Resolved [org.timoshuk.computershop.exception.UserExistsException: User with this login already exists!]
2018-12-27 23:57:13,159 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = groovy.json.JsonException: Lexing failed on line: 1, column: 1, while reading 'U', no possible valid JSON value or punctuation could be recognized., mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]
2018-12-27 23:58:00,693 INFO org.springframework.boot.StartupInfoLogger [main] Starting MainControllerTest on WIN-C3L8TOODV5O with PID 10508 (started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:58:00,696 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:58:06,162 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 0 (http)
2018-12-27 23:58:06,186 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:58:06,207 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:58:06,208 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:58:06,229 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:58:06,802 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:58:06,820 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:58:06,821 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 4990 ms
2018-12-27 23:58:06,989 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:58:06,991 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:58:06,992 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:58:11,057 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3af36922, org.springframework.security.web.context.SecurityContextPersistenceFilter@6a96d639, org.springframework.security.web.header.HeaderWriterFilter@640c216b, org.springframework.security.web.authentication.logout.LogoutFilter@2755617b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4438938e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@91a2543, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d40498a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1de5cc88, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@609b041c, org.springframework.security.web.session.SessionManagementFilter@c0c8f96, org.springframework.security.web.access.ExceptionTranslationFilter@7308c820, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@184afb78]
2018-12-27 23:58:12,518 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:58:12,534 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:58:12,575 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 52755 (http) with context path ''
2018-12-27 23:58:12,581 INFO org.springframework.boot.StartupInfoLogger [main] Started MainControllerTest in 13.212 seconds (JVM running for 15.143)
2018-12-27 23:58:13,017 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@4a1a412e]; rollback [true]
2018-12-27 23:58:13,127 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2018-12-27 23:58:13,129 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2018-12-27 23:58:13,130 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 0 ms
2018-12-27 23:58:14,643 INFO org.apache.juli.logging.DirectJDKLog [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-27 23:58:14,644 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'
2018-12-27 23:58:14,681 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Completed initialization in 35 ms
2018-12-27 23:58:15,472 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-auto-1-exec-1] Resolved [org.timoshuk.computershop.exception.UserExistsException: User with this login already exists!]
2018-12-27 23:58:15,766 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = groovy.json.JsonException: Lexing failed on line: 1, column: 1, while reading 'U', no possible valid JSON value or punctuation could be recognized., mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]
2018-12-27 23:59:24,901 INFO org.springframework.boot.StartupInfoLogger [main] Starting MainControllerTest on WIN-C3L8TOODV5O with PID 15504 (started by User in C:\Users\User\IdeaProjects\computershop)
2018-12-27 23:59:24,905 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2018-12-27 23:59:29,798 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 0 (http)
2018-12-27 23:59:29,836 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:59:29,869 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2018-12-27 23:59:29,870 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet Engine: Apache Tomcat/8.5.34
2018-12-27 23:59:29,898 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\ptc\proe4\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\WINDOWS\System32\OpenSSH\;C:\soft\apache-maven-3.5.4-src\apache-maven-3.5.4\bin;;D:\ptc2\bin;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\soft\apache-maven-3.5.4\bin;;.]
2018-12-27 23:59:30,496 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2018-12-27 23:59:30,507 INFO org.apache.juli.logging.DirectJDKLog [localhost-startStop-1] Initializing Spring embedded WebApplicationContext
2018-12-27 23:59:30,508 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [localhost-startStop-1] Root WebApplicationContext: initialization completed in 4455 ms
2018-12-27 23:59:30,634 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-27 23:59:30,635 INFO org.springframework.boot.web.servlet.AbstractFilterRegistrationBean [localhost-startStop-1] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-12-27 23:59:30,636 INFO org.springframework.boot.web.servlet.ServletRegistrationBean [localhost-startStop-1] Servlet dispatcherServlet mapped to [/]
2018-12-27 23:59:34,614 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4e50ae56, org.springframework.security.web.context.SecurityContextPersistenceFilter@5d601832, org.springframework.security.web.header.HeaderWriterFilter@45984654, org.springframework.security.web.authentication.logout.LogoutFilter@2d4fb0d8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f03ee8f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5e5a8718, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@640c216b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d40498a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c68d0db, org.springframework.security.web.session.SessionManagementFilter@66b0e207, org.springframework.security.web.access.ExceptionTranslationFilter@288728e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@59f45950]
2018-12-27 23:59:36,086 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-auto-1"]
2018-12-27 23:59:36,106 INFO org.apache.juli.logging.DirectJDKLog [main] Using a shared selector for servlet write/read
2018-12-27 23:59:36,150 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 52831 (http) with context path ''
2018-12-27 23:59:36,162 INFO org.springframework.boot.StartupInfoLogger [main] Started MainControllerTest in 12.657 seconds (JVM running for 14.77)
2018-12-27 23:59:36,628 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@51e8d066]; rollback [true]
2018-12-27 23:59:36,735 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2018-12-27 23:59:36,738 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2018-12-27 23:59:36,738 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 0 ms
2018-12-27 23:59:38,476 INFO org.apache.juli.logging.DirectJDKLog [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-27 23:59:38,477 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'
2018-12-27 23:59:38,526 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-auto-1-exec-1] Completed initialization in 47 ms
2018-12-27 23:59:39,423 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-auto-1-exec-1] Resolved [org.timoshuk.computershop.exception.UserExistsException: User with this login already exists!]
2018-12-27 23:59:39,745 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@59662a0b testClass = MainControllerTest, testInstance = org.timoshuk.computershop.controller.MainControllerTest@18078bef, testMethod = createUser_duplicateLogin@MainControllerTest, testException = groovy.json.JsonException: Lexing failed on line: 1, column: 1, while reading 'U', no possible valid JSON value or punctuation could be recognized., mergedContextConfiguration = [WebMergedContextConfiguration@77fbd92c testClass = MainControllerTest, locations = '{}', classes = '{class org.timoshuk.computershop.config.WebConfig, class org.timoshuk.computershop.secure.WebSecurityConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4fcd19b3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7a36aefa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ba18f1b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4b9e255], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]]
